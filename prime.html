<script>
    window.primeArr = [2, 3, 5, 7, 11];

    numsList(100, 50);

    // 呼叫質數名單，如果最小值大於質數表的最大值代表有還沒取得的質數表。
    function numsList(max, min = 2) {
        if (min > Math.max(...window.primeArr)) {
            setNums(min, Math.max(...window.primeArr));
            return printNums(max, min);
        }

        return printNums(max, min);
    }

    // 輸出質數
    function printNums(max, min = 2) {
        for (let i = min; i < max; i++) {
            if (isPrime(i)) {
                document.write(i + "<br>");
            }
        }
    }

    // 設置質數
    function setNums(num) {
        for (let i = 0; i < num; i++) {
            setPrime(num);
        }
    }

    // 分析是否為質數
    function isPrime(num) {
        for (let i = 0; i < window.primeArr.length; i++) {
            if (num !== window.primeArr[i] && num % window.primeArr[i] === 0) {
                return false;
            }
        }

        return true;
    }

    // 建立質數表
    function setPrime(num){
        for (let i = 0; i < window.primeArr.length; i++) {
            if (num !== window.primeArr[i] && num % window.primeArr[i] === 0) {
                return;
            }
        }

        if (!window.primeArr.includes(num)) {
            window.primeArr.push(num);
        }
    }
</script>